var F=n=>{throw TypeError(n)};var D=(n,t,o)=>t.has(n)||F("Cannot "+o);var V=(n,t,o)=>(D(n,t,"read from private field"),o?o.call(n):t.get(n)),z=(n,t,o)=>t.has(n)?F("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,o);import{p as N,j as L,P as S,a as M,u as H,e as J,f as W,_ as Q}from"./index-CRdMBJfa.js";import{h as X,c as T,j as Z,u as G,f as Y,k as ee,w as te,l as re,P as ae,d as oe}from"./RovingFocusGroup-26y2Pv7_.js";import{b as $,d as x,e as ne,c as w,o as g,m as _,i as P,E as se,F as ie,f as le,Q as ue,w as y,g as p,u as l,r as B,n as de,h as ce,X as fe,x as U,y as me,H as pe,O as ye,Z as ve,G as be,A as b,J as he,s as k,D as ge,_ as $e}from"./index-CtMJMLFj.js";import{_ as we,c as ke}from"./createLucideIcon-RyNsVpDd.js";import{_ as _e,a as xe,b as Ve,l as Ce}from"./auth-CAWtP5S6.js";import"./index-DFXgSe6a.js";import"./useResponse-CsOZB8BL.js";function O(n){return typeof n=="string"?`'${n}'`:new Ae().serialize(n)}const Ae=function(){var t;class n{constructor(){z(this,t,new Map)}compare(e,r){const s=typeof e,i=typeof r;return s==="string"&&i==="string"?e.localeCompare(r):s==="number"&&i==="number"?e-r:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(r,!0))}serialize(e,r){if(e===null)return"null";switch(typeof e){case"string":return r?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const r=Object.prototype.toString.call(e);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),e);const s=e.constructor,i=s===Object||s===void 0?"":s.name;if(i!==""&&globalThis[i]===s)return this.serializeBuiltInType(i,e);if(typeof e.toJSON=="function"){const u=e.toJSON();return i+(u!==null&&typeof u=="object"?this.$object(u):`(${this.serialize(u)})`)}return this.serializeObjectEntries(i,Object.entries(e))}serializeBuiltInType(e,r){const s=this["$"+e];if(s)return s.call(this,r);if(typeof(r==null?void 0:r.entries)=="function")return this.serializeObjectEntries(e,r.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,r){const s=Array.from(r).sort((u,f)=>this.compare(u[0],f[0]));let i=`${e}{`;for(let u=0;u<s.length;u++){const[f,a]=s[u];i+=`${this.serialize(f,!0)}:${this.serialize(a)}`,u<s.length-1&&(i+=",")}return i+"}"}$object(e){let r=V(this,t).get(e);return r===void 0&&(V(this,t).set(e,`#${V(this,t).size}`),r=this.serializeObject(e),V(this,t).set(e,r)),r}$function(e){const r=Function.prototype.toString.call(e);return r.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(e){let r="[";for(let s=0;s<e.length;s++)r+=this.serialize(e[s]),s<e.length-1&&(r+=",");return r+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((r,s)=>this.compare(r,s)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}t=new WeakMap;for(const o of["Error","RegExp","URL"])n.prototype["$"+o]=function(e){return`${o}(${e})`};for(const o of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])n.prototype["$"+o]=function(e){return`${o}[${e.join(",")}]`};for(const o of["BigInt64Array","BigUint64Array"])n.prototype["$"+o]=function(e){return`${o}[${e.join("n,")}${e.length>0?"n":""}]`};return n}();function j(n,t){return n===t||O(n)===O(t)}function I(n){return n==null}function q(n,t){return I(n)?!1:Array.isArray(n)?n.some(o=>j(o,t)):j(n,t)}function Be(n){return $(()=>{var t;return N(n)?!!((t=L(n))!=null&&t.closest("form")):!0})}const R=x({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(n){const t=n,{primitiveElement:o,currentElement:e}=X(),r=$(()=>t.checked??t.value);return ne(r,(s,i)=>{if(!e.value)return;const u=e.value,f=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(f,"value").set;if(c&&s!==i){const m=new Event("input",{bubbles:!0}),v=new Event("change",{bubbles:!0});c.call(u,s),u.dispatchEvent(m),u.dispatchEvent(v)}}),(s,i)=>(g(),w(we,_({ref_key:"primitiveElement",ref:o},{...t,...s.$attrs},{as:"input"}),null,16))}}),je=x({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(n){const t=n,o=$(()=>typeof t.value=="object"&&Array.isArray(t.value)&&t.value.length===0&&t.required),e=$(()=>typeof t.value=="string"||typeof t.value=="number"||typeof t.value=="boolean"?[{name:t.name,value:t.value}]:typeof t.value=="object"&&Array.isArray(t.value)?t.value.flatMap((r,s)=>typeof r=="object"?Object.entries(r).map(([i,u])=>({name:`[${t.name}][${s}][${i}]`,value:u})):{name:`[${t.name}][${s}]`,value:r}):t.value!==null&&typeof t.value=="object"&&!Array.isArray(t.value)?Object.entries(t.value).map(([r,s])=>({name:`[${t.name}][${r}]`,value:s})):[]);return(r,s)=>o.value?(g(),w(R,_({key:r.name},{...t,...r.$attrs},{name:r.name,value:r.value}),null,16,["name","value"])):(g(!0),P(ie,{key:1},se(e.value,i=>(g(),w(R,_({key:i.name,ref_for:!0},{...t,...r.$attrs},{name:i.name,value:i.value}),null,16,["name","value"]))),128))}}),[Ie,et]=T("CheckboxGroupRoot");function A(n){return n==="indeterminate"}function K(n){return A(n)?"indeterminate":n?"checked":"unchecked"}const Se=x({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(n){const t=n,o=Z(),e=G(),r=$(()=>t.tabStopId||e),s=$(()=>o.currentTabStopId.value===r.value),{getItems:i,CollectionItem:u}=Y();le(()=>{t.focusable&&o.onFocusableItemAdd()}),ue(()=>{t.focusable&&o.onFocusableItemRemove()});function f(a){if(a.key==="Tab"&&a.shiftKey){o.onItemShiftTab();return}if(a.target!==a.currentTarget)return;const c=ee(a,o.orientation.value,o.dir.value);if(c!==void 0){if(a.metaKey||a.ctrlKey||a.altKey||!t.allowShiftKey&&a.shiftKey)return;a.preventDefault();let m=[...i().map(v=>v.ref).filter(v=>v.dataset.disabled!=="")];if(c==="last")m.reverse();else if(c==="prev"||c==="next"){c==="prev"&&m.reverse();const v=m.indexOf(a.currentTarget);m=o.loop.value?te(m,v+1):m.slice(v+1)}de(()=>re(m))}}return(a,c)=>(g(),w(l(u),null,{default:y(()=>[p(l(S),{tabindex:s.value?0:-1,"data-orientation":l(o).orientation.value,"data-active":a.active?"":void 0,"data-disabled":a.focusable?void 0:"",as:a.as,"as-child":a.asChild,onMousedown:c[0]||(c[0]=m=>{a.focusable?l(o).onItemFocus(r.value):m.preventDefault()}),onFocus:c[1]||(c[1]=m=>l(o).onItemFocus(r.value)),onKeydown:f},{default:y(()=>[B(a.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[Ee,Fe]=T("CheckboxRoot"),ze=x({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:t}){const o=n,e=t,{forwardRef:r,currentElement:s}=M(),i=Ie(null),u=H(o,"modelValue",e,{defaultValue:o.defaultValue,passive:o.modelValue===void 0}),f=$(()=>(i==null?void 0:i.disabled.value)||o.disabled),a=$(()=>I(i==null?void 0:i.modelValue.value)?u.value==="indeterminate"?"indeterminate":u.value:q(i.modelValue.value,o.value));function c(){if(I(i==null?void 0:i.modelValue.value))u.value=A(u.value)?!0:!u.value;else{const d=[...i.modelValue.value||[]];if(q(d,o.value)){const C=d.findIndex(h=>j(h,o.value));d.splice(C,1)}else d.push(o.value);i.modelValue.value=d}}const m=Be(s),v=$(()=>{var d;return o.id&&s.value?(d=document.querySelector(`[for="${o.id}"]`))==null?void 0:d.innerText:void 0});return Fe({disabled:f,state:a}),(d,C)=>{var h,E;return g(),w(me((h=l(i))!=null&&h.rovingFocus.value?l(Se):l(S)),_(d.$attrs,{id:d.id,ref:l(r),role:"checkbox","as-child":d.asChild,as:d.as,type:d.as==="button"?"button":void 0,"aria-checked":l(A)(a.value)?"mixed":a.value,"aria-required":d.required,"aria-label":d.$attrs["aria-label"]||v.value,"data-state":l(K)(a.value),"data-disabled":f.value?"":void 0,disabled:f.value,focusable:(E=l(i))!=null&&E.rovingFocus.value?!f.value:void 0,onKeydown:fe(U(()=>{},["prevent"]),["enter"]),onClick:c}),{default:y(()=>[B(d.$slots,"default",{modelValue:l(u),state:a.value}),l(m)&&d.name&&!l(i)?(g(),w(l(je),{key:0,type:"checkbox",checked:!!a.value,name:d.name,value:d.value,disabled:f.value,required:d.required},null,8,["checked","name","value","disabled","required"])):ce("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),Oe=x({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(n){const{forwardRef:t}=M(),o=Ee();return(e,r)=>(g(),w(l(ae),{present:e.forceMount||l(A)(l(o).state.value)||l(o).state.value===!0},{default:y(()=>[p(l(S),_({ref:l(t),"data-state":l(K)(l(o).state.value),"data-disabled":l(o).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":e.asChild,as:e.as},e.$attrs),{default:y(()=>[B(e.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}});/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ke("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Re=x({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(n,{emit:t}){const o=n,e=t,r=J(o,"class"),s=oe(r,e);return(i,u)=>(g(),w(l(ze),_({"data-slot":"checkbox"},l(s),{class:l(W)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",o.class)}),{default:y(()=>[p(l(Oe),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:y(()=>[B(i.$slots,"default",{},()=>[p(l(qe),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}}),Me={class:"min-h-screen flex justify-center items-center"},Te={class:"flex-1 flex items-center justify-center p-8 bg-background"},Pe={class:"w-full max-w-md space-y-8"},Ue={class:"space-y-2"},Ke={class:"space-y-2"},De={class:"flex items-center justify-between"},Ne={class:"flex items-center space-x-2"},Le={class:"text-center"},tt={__name:"LoginView",setup(n){const{setUser:t,setToken:o}=pe(),e=$e(),r=be(),s=ye({email:r.query.email?ve.decrypt(decodeURIComponent(r.query.email)):"",password:"",rememberMe:!1}),i=async()=>{try{const f=await Ce(s);t(f.data.user),o(f.data.token),await new Promise(c=>setTimeout(c,1e3));const a=r.query.redirect||{name:"home"};await e.push(a)}catch(f){console.error("Login error:",f)}},u=()=>{console.log("Forgot password clicked")};return(f,a)=>{const c=_e,m=xe,v=Re,d=Q,C=ge("router-link");return g(),P("div",Me,[b("div",Te,[b("div",Pe,[a[10]||(a[10]=he('<div class="flex items-center space-x-2"><div class="w-8 h-8 bg-primary rounded-md flex items-center justify-center"><span class="text-primary-foreground font-bold text-sm">m</span></div><span class="text-xl font-semibold text-foreground">Maglo.</span></div><div class="space-y-2"><h1 class="text-3xl font-bold text-foreground">Welcome back</h1><p class="text-muted-foreground">Welcome back! Please enter your details</p></div>',2)),b("form",{class:"space-y-6",onSubmit:U(i,["prevent"])},[b("div",Ue,[p(c,{for:"email",class:"block text-sm font-medium text-foreground"},{default:y(()=>a[3]||(a[3]=[k("Email")])),_:1,__:[3]}),p(m,{id:"email",modelValue:s.email,"onUpdate:modelValue":a[0]||(a[0]=h=>s.email=h),type:"email",placeholder:"Enter your email",class:"w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors bg-background",required:""},null,8,["modelValue"])]),b("div",Ke,[p(c,{for:"password",class:"block text-sm font-medium text-foreground"},{default:y(()=>a[4]||(a[4]=[k("Password")])),_:1,__:[4]}),p(m,{id:"password",modelValue:s.password,"onUpdate:modelValue":a[1]||(a[1]=h=>s.password=h),type:"password",placeholder:"*****",class:"w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors bg-background",required:""},null,8,["modelValue"])]),b("div",De,[b("div",Ne,[p(v,{id:"remember",modelValue:s.rememberMe,"onUpdate:modelValue":a[2]||(a[2]=h=>s.rememberMe=h),class:"w-4 h-4 bg-background leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"},null,8,["modelValue"]),p(c,{for:"remember",class:"text-sm text-muted-foreground"},{default:y(()=>a[5]||(a[5]=[k("Remember for 30 Days")])),_:1,__:[5]})]),p(d,{variant:"link",class:"text-sm cursor-pointer text-muted-foreground hover:text-foreground transition-colors underline",size:"sm",onClick:u},{default:y(()=>a[6]||(a[6]=[k(" Forgot password ")])),_:1,__:[6]})]),p(d,{type:"submit",class:"w-full cursor-pointer bg-primary hover:bg-primary/90 text-primary-foreground font-medium py-2 px-4 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"},{default:y(()=>a[7]||(a[7]=[k(" Sign in ")])),_:1,__:[7]}),b("div",Le,[a[9]||(a[9]=b("span",{class:"text-sm text-muted-foreground"},"Don't have an account? ",-1)),p(C,{to:{name:"auth.register"},class:"text-sm font-medium cursor-pointer text-primary hover:text-primary/90 underline decoration-primary decoration-2 underline-offset-2 transition-colors"},{default:y(()=>a[8]||(a[8]=[k(" Sign up for free ")])),_:1,__:[8]})])],32)])]),a[11]||(a[11]=b("div",{class:"hidden lg:flex items-center justify-center overflow-hidden h-screen flex-1 bg-muted"},[b("img",{alt:"Hand holding clock",src:Ve,class:"h-full w-full object-cover"})],-1))])}}};export{tt as default};
